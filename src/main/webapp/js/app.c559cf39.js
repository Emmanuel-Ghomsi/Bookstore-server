(function(){var t={990:function(t,e,s){var r={"./an-occurrence-at-owl-creek-bridge-one-of-the-missing.jpeg":6801,"./country-of-the-blind.jpeg":4422,"./death-on-the-air.jpeg":4013,"./from-a-view-to-a-kill.jpeg":470,"./goodbye-to-all-cats.jpeg":2026,"./here-we-are-a-telephone-call.jpeg":7296,"./murder.jpeg":1077,"./on-guard,-bella-fleace-gave-a-party.jpeg":9217,"./sredni-vashtar,-the-secret-sin-septimus-brope.jpeg":9916,"./the-five-orange-pips.jpeg":7523,"./the-hostage.jpeg":7596,"./the-pit-and-the-pendulum.jpeg":7723,"./the-signalman.jpeg":4754,"./the-speckled-band.jpeg":4598,"./the-traveller's-story-of-a-terribly-strange-bed.jpeg":8904,"./the-vampyre.jpeg":1677};function a(t){var e=o(t);return s(e)}function o(t){if(!s.o(r,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return r[t]}a.keys=function(){return Object.keys(r)},a.resolve=o,t.exports=a,a.id=990},4266:function(t,e,s){"use strict";var r=s(144),a=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[e("Header"),e("router-view",{key:t.$route.fullPath,attrs:{id:"router-view"}}),e("Footer")],1)},o=[],n=function(){var t=this,e=t._self._c;return e("header",{staticClass:"header"},[e("router-link",{staticClass:"brand",attrs:{to:"/"}},[e("i",{staticClass:"bx bx-book-open"}),e("span",{staticClass:"logo-name"},[t._v("BOOKWORM")])]),t._m(0),e("div",{staticClass:"dropdown"},[e("div",{staticClass:"category",on:{click:t.toggleDropdown}},[e("a",{staticClass:"category-link",attrs:{href:"#"}},[t._v("Browse categories")]),e("i",{staticClass:"bx bx-caret-down"})]),t.open?e("div",{staticClass:"dropdown-category"},[e("CategoryNav",{attrs:{active:null}})],1):t._e()]),e("div",{staticClass:"login"},[t._v("Sign in")]),e("router-link",{staticClass:"cart",attrs:{to:"/cart"}},[e("i",{staticClass:"bx bxs-cart"}),e("span",{staticClass:"cart-number"},[t._v(t._s(t.$store.state.cart.numberOfItems))])])],1)},i=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"search"},[e("input",{staticClass:"search-input",attrs:{type:"text",placeholder:"Search a book"}}),e("i",{staticClass:"bx bx-search"})])}],c=function(){var t=this,e=t._self._c;return e("div",{staticClass:"list-category"},t._l(t.$store.state.categories,(function(s){return e("div",{key:s.categoryId,staticClass:"categoty-link"},[t.$store.state.selectedCategoryName===s.name||t.active===s.name?e("router-link",{staticClass:"best-seller",attrs:{to:"/category/"+s.name}},[t._v(t._s(s.name))]):e("router-link",{attrs:{to:"/category/"+s.name}},[t._v(t._s(s.name))])],1)})),0)},l=[],u={name:"CategoryNav",props:["active"]},d=u,m=s(1001),p=(0,m.Z)(d,c,l,!1,null,null,null),v=p.exports,h={name:"Header",components:{CategoryNav:v},data:function(){return{open:!1}},created:function(){this.open=!1},methods:{toggleDropdown(){this.open=!this.open}}},_=h,f=(0,m.Z)(_,n,i,!1,null,null,null),g=f.exports,C=function(){var t=this;t._self._c;return t._m(0)},b=[function(){var t=this,e=t._self._c;return e("footer",[e("div",{staticClass:"footer"},[e("span",[t._v("Â©2022 JoyceBookstore")]),e("a",{attrs:{href:"#"}},[t._v("Contact")]),e("a",{attrs:{href:"#"}},[t._v("About us")]),e("a",{attrs:{href:"#"}},[t._v("Terms and Conditions")]),e("div",{staticClass:"social-link"},[e("i",{staticClass:"bx bxl-facebook my-5"}),e("i",{staticClass:"bx bxl-google my-5"}),e("i",{staticClass:"bx bxl-twitter my-5"}),e("i",{staticClass:"bx bxl-linkedin my-5"})])])])}],y={name:"Footer"},k=y,$=(0,m.Z)(k,C,b,!1,null,null,null),E=$.exports,x={name:"App",components:{Header:g,Footer:E},created:function(){this.$store.dispatch("fetchCategories");const t=localStorage.getItem(this.$store.state.CART_STORAGE_KEY);if(t){const e=JSON.parse(t);this.$store.commit("SET_CART",e)}const e=sessionStorage.getItem(this.$store.state.ORDER_DETAIL_STORAGE_KEY);if(e){const t=JSON.parse(e);this.$store.commit("SET_ORDER_DETAIL",t)}}},O=x,S=(0,m.Z)(O,a,o,!1,null,null,null),T=S.exports,A=s(8345),w=function(){var t=this,e=t._self._c;return e("div",[e("section",{staticClass:"welcome"},[e("div",{staticClass:"special"},[e("h6",[t._v("Back to school")]),t._m(0),e("router-link",{attrs:{to:"/category"}},[e("button",[t._v("Shop now")])])],1),e("div",{staticClass:"banner"})]),e("SuggestedBooksList")],1)},N=[function(){var t=this,e=t._self._c;return e("p",[t._v(" Special "),e("span",[t._v("50% off")]),e("br"),t._v(" For our student company ")])}],R=function(){var t=this,e=t._self._c;return e("section",{staticClass:"books"},[e("div",{staticClass:"list-book"},t._l(t.$store.state.selectedCategoryBooks,(function(r){return e("div",{key:r.bookId,staticClass:"book"},[e("div",{staticClass:"book-img-div"},[e("img",{staticClass:"book-img",attrs:{src:s(990)(`./${t.bookImageFileName(r)}`),alt:r.title}})]),e("h1",{staticClass:"mt-2"},[t._v(t._s(r.title))])])})),0)])},D=[],I={name:"SuggestedBooksList",methods:{bookImageFileName(t){let e=t.title.toLowerCase();return e=e.replace(/ /g,"-"),-1!==e.indexOf("!")&&(e=e.substring(0,e.length-1)),`${e}.jpeg`}}},j=I,q=(0,m.Z)(j,R,D,!1,null,null,null),L=q.exports,P={name:"HomeView",components:{SuggestedBooksList:L},created:function(){this.$store.dispatch("fetchSelectedCategoryBooks")}},Y=P,B=(0,m.Z)(Y,w,N,!1,null,null,null),Z=B.exports,G=function(){var t=this,e=t._self._c;return e("div",[e("section",{staticClass:"categories"},[e("h1",[t._v("List of categories")]),e("CategoryNav",{attrs:{active:t.$route.meta.set}})],1),e("BooksList")],1)},F=[],K=function(){var t=this,e=t._self._c;return e("section",{staticClass:"books"},[e("div",{staticClass:"list-book"},t._l(t.$store.state.selectedCategoryBooks,(function(r){return e("div",{key:r.bookId,staticClass:"book"},[e("div",{staticClass:"book-img-div"},[e("img",{staticClass:"book-img",attrs:{src:s(990)(`./${t.bookImageFileName(r)}`),alt:r.title}})]),e("h1",{staticClass:"mt-2"},[t._v(t._s(r.title))]),e("h3",[t._v(t._s(r.author))]),e("p",[t._v(t._s(r.description))]),e("a",{staticClass:"read-more",attrs:{href:"#"}},[t._v("Read more")]),e("h6",{staticClass:"price"},[t._v(t._s(t._f("asDollarsAndCents")(r.price)))]),e("button",{staticClass:"add-cart",on:{click:function(e){return t.addToCart(r)}}},[t._v("Add to cart")])])})),0)])},J=[],M={name:"BooksList",methods:{bookImageFileName(t){let e=t.title.toLowerCase();return e=e.replace(/ /g,"-"),-1!==e.indexOf("!")&&(e=e.substring(0,e.length-1)),`${e}.jpeg`},addToCart(t){this.$store.dispatch("addToCart",t)}}},z=M,V=(0,m.Z)(z,K,J,!1,null,null,null),Q=V.exports,U={name:"CategoryView",components:{BooksList:Q,CategoryNav:v},created:function(){void 0===this.$route.params.name?this.$store.dispatch("selectCategory",this.$route.meta.set):this.$store.dispatch("selectCategory",this.$route.params.name),setTimeout((()=>{console.log(this.$store.state.selectedCategoryName),this.$store.dispatch("fetchSelectedCategoryBooks")}),3e3)}},H=U,W=(0,m.Z)(H,G,F,!1,null,null,null),X=W.exports,tt=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"cart"},[t.$store.state.cart.numberOfItems>0?e("CartTable"):e("div",{staticClass:"alert-info"},[t._v(" Your Shopping Cart is empty ")])],1),e("div",{staticClass:"btn-group"},[e("router-link",{staticClass:"btn btn-secondary",attrs:{to:"/category/"+t.$store.state.selectedCategoryName}},[t._v("Continue Shopping")]),t.$store.state.cart.numberOfItems>0?e("router-link",{staticClass:"btn btn-primary",attrs:{to:"/checkout"}},[t._v("Proceed to Checkout")]):t._e()],1)])},et=[],st=function(){var t=this,e=t._self._c;return e("div",{staticClass:"Cart-Container"},[e("div",{staticClass:"Header"},[e("h3",{staticClass:"Heading"},[t._v("Your Shopping Cart contains "+t._s(t.$store.state.cart.numberOfItems)+" "+t._s(1==t.$store.state.cart.numberOfItems?"item":"items"))]),e("h5",{staticClass:"Action",on:{click:function(e){return t.$store.commit("CLEAR_CART")}}},[t._v("Clear Cart")])]),t._l(t.$store.state.cart.items,(function(r){return e("div",{key:r.book.bookId},[r.quantity>0?e("div",{staticClass:"Cart-Items"},[e("div",{staticClass:"image-box"},[e("img",{attrs:{src:s(990)(`./${t.bookImageFileName(r.book)}`),alt:r.book.title}})]),e("div",{staticClass:"about"},[e("h1",{staticClass:"title"},[t._v(t._s(r.book.title))]),e("h3",{staticClass:"subtitle"},[t._v(t._s(t._f("asDollarsAndCents")(r.book.price)))])]),e("div",{staticClass:"counter"},[e("div",{staticClass:"btn",on:{click:function(e){t.updateQuantity(r.book,r.quantity+1)}}},[t._v("+")]),e("div",{staticClass:"count"},[t._v(t._s(r.quantity))]),e("div",{staticClass:"btn",on:{click:function(e){t.updateQuantity(r.book,r.quantity-1)}}},[t._v("-")])]),e("div",{staticClass:"prices"},[e("div",{staticClass:"amount"},[t._v(t._s(t._f("asDollarsAndCents")(r.quantity*r.book.price)))]),e("div",{staticClass:"remove",on:{click:function(e){return t.updateQuantity(r.book,0)}}},[e("u",[t._v("Remove")])])])]):t._e()])})),e("hr"),e("div",{staticClass:"checkout"},[e("div",{staticClass:"total"},[e("div",{staticClass:"Subtotal"},[t._v("Sub-Total")]),e("div",{staticClass:"total-amount"},[t._v(t._s(t._f("asDollarsAndCents")(t.$store.state.cart.subtotal)))])])])],2)},rt=[],at={name:"CartTable",methods:{bookImageFileName(t){let e=t.title.toLowerCase();return e=e.replace(/ /g,"-"),-1!==e.indexOf("!")&&(e=e.substring(0,e.length-1)),`${e}.jpeg`},updateQuantity(t,e){let s={book:t,quantity:e};this.$store.dispatch("updateQuantity",s)}}},ot=at,nt=(0,m.Z)(ot,st,rt,!1,null,"9545d2c6",null),it=nt.exports,ct={name:"CartView",components:{CartTable:it}},lt=ct,ut=(0,m.Z)(lt,tt,et,!1,null,"08730fc2",null),dt=ut.exports,mt=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"cart"},[t.$store.state.cart.numberOfItems>0?e("section",{staticClass:"categoryView"},[e("form",{on:{submit:function(e){return e.preventDefault(),t.submitOrder.apply(null,arguments)},reset:t.resetOrder}},[e("div",{staticClass:"form-group"},[e("div",{staticClass:"form-control"},[e("div",[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Name")]),e("input",{directives:[{name:"model",rawName:"v-model.lazy",value:t.$v.name.$model,expression:"$v.name.$model",modifiers:{lazy:!0}}],staticClass:"form-input",attrs:{type:"text",id:"name",name:"name"},domProps:{value:t.$v.name.$model},on:{change:function(e){return t.$set(t.$v.name,"$model",e.target.value)}}})]),t.$v.name.$error?[t.$v.name.required?t.$v.name.minLength?t.$v.name.maxLength?e("span",{staticClass:"error"},[t._v(" An unexpected error occurred. ")]):e("span",{staticClass:"error"},[t._v(" Name can have at most "+t._s(t.$v.name.$params.maxLength.max)+" letters. ")]):e("span",{staticClass:"error"},[t._v(" Name must have at least "+t._s(t.$v.name.$params.minLength.min)+" letters. ")]):e("span",{staticClass:"error"},[t._v("Name is required")])]:t._e()],2),e("div",{staticClass:"form-control"},[e("div",[e("label",{staticClass:"form-label",attrs:{for:"address"}},[t._v("Address")]),e("input",{directives:[{name:"model",rawName:"v-model.lazy",value:t.$v.address.$model,expression:"$v.address.$model",modifiers:{lazy:!0}}],staticClass:"form-input",attrs:{type:"text",id:"address",name:"address"},domProps:{value:t.$v.address.$model},on:{change:function(e){return t.$set(t.$v.address,"$model",e.target.value)}}})]),t.$v.address.$error?[t.$v.address.required?t.$v.address.minLength?t.$v.address.maxLength?e("span",{staticClass:"error"},[t._v(" An unexpected error occurred. ")]):e("span",{staticClass:"error"},[t._v(" Address can have at most "+t._s(t.$v.address.$params.maxLength.max)+" letters. ")]):e("span",{staticClass:"error"},[t._v(" Address must have at least "+t._s(t.$v.address.$params.minLength.min)+" letters. ")]):e("span",{staticClass:"error"},[t._v("Address is required")])]:t._e()],2)]),e("div",{staticClass:"form-group"},[e("div",{staticClass:"form-control pr-2"},[e("div",[e("label",{attrs:{for:"phone"}},[t._v("Phone")]),e("input",{directives:[{name:"model",rawName:"v-model.lazy",value:t.$v.phone.$model,expression:"$v.phone.$model",modifiers:{lazy:!0}}],staticClass:"form-input",attrs:{type:"text",id:"phone",name:"phone"},domProps:{value:t.$v.phone.$model},on:{change:function(e){return t.$set(t.$v.phone,"$model",e.target.value)}}})]),t.$v.phone.$error?[t.$v.phone.required?t.$v.phone.phone?e("span",{staticClass:"error"},[t._v(" An unexpected error occurred. ")]):e("span",{staticClass:"error"},[t._v("The format of the phone number is not valid.")]):e("span",{staticClass:"error"},[t._v("Phone is required")])]:t._e()],2),e("div",{staticClass:"form-control pl-2"},[e("div",[e("label",{attrs:{for:"email"}},[t._v("Email")]),e("input",{directives:[{name:"model",rawName:"v-model.lazy",value:t.$v.email.$model,expression:"$v.email.$model",modifiers:{lazy:!0}}],staticClass:"form-input",attrs:{type:"text",id:"email",name:"email"},domProps:{value:t.$v.email.$model},on:{change:function(e){return t.$set(t.$v.email,"$model",e.target.value)}}})]),t.$v.email.$error?[t.$v.email.required?t.$v.email.email?e("span",{staticClass:"error"},[t._v(" An unexpected error occurred. ")]):e("span",{staticClass:"error"},[t._v("The format of the email is not valid.")]):e("span",{staticClass:"error"},[t._v("Email is required")])]:t._e()],2)]),e("div",{staticClass:"form-control"},[e("div",[e("label",{attrs:{for:"ccNumber"}},[t._v("Credit card")]),e("input",{directives:[{name:"model",rawName:"v-model.lazy",value:t.$v.ccNumber.$model,expression:"$v.ccNumber.$model",modifiers:{lazy:!0}}],staticClass:"form-input",attrs:{type:"text",id:"ccNumber",name:"ccNumber"},domProps:{value:t.$v.ccNumber.$model},on:{change:function(e){return t.$set(t.$v.ccNumber,"$model",e.target.value)}}})]),t.$v.ccNumber.$error?[t.$v.ccNumber.required?t.$v.ccNumber.creditCard?e("span",{staticClass:"error"},[t._v(" An unexpected error occurred. ")]):e("span",{staticClass:"error"},[t._v("This number does not correspond to a valid card.")]):e("span",{staticClass:"error"},[t._v("Credit card is required")])]:t._e()],2),e("div",{staticClass:"form-group"},[e("div",{staticClass:"form-control"},[e("label",[t._v("Exp Month")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.ccExpiryMonth,expression:"ccExpiryMonth"}],staticClass:"form-select",on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.ccExpiryMonth=e.target.multiple?s:s[0]}}},t._l(t.months,(function(s,r){return e("option",{key:r,domProps:{value:r+1}},[t._v(" "+t._s(s)+" ("+t._s(r+1)+") ")])})),0)]),e("div",{staticClass:"form-control"},[e("label",[t._v("Exp Year")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.ccExpiryYear,expression:"ccExpiryYear"}],staticClass:"form-select",on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.ccExpiryYear=e.target.multiple?s:s[0]}}},t._l(t.years,(function(s,r){return e("option",{key:r,domProps:{value:s}},[t._v(" "+t._s(s)+" ")])})),0)])]),e("div",{staticClass:"btn-group"},[e("input",{staticClass:"btn btn-secondary",attrs:{type:"reset",name:"reset",disabled:"PENDING"===t.checkoutStatus,value:"Reset Form"}}),e("input",{staticClass:"btn btn-primary",attrs:{type:"submit",name:"submit",disabled:"PENDING"===t.checkoutStatus,value:"Complete Purchase"}})])]),e("div",{staticClass:"mt-1"},[e("div",[t._v("Your credit card will be charged "),e("span",{staticClass:"fw-bold"},[t._v(t._s(t._f("asDollarsAndCents")(t.$store.state.cart.total)))]),t._v(" ("),e("span",{staticClass:"fw-bold"},[t._v(t._s(t._f("asDollarsAndCents")(t.$store.state.cart.subtotal)))]),t._v(" + "),e("span",{staticClass:"fw-bold"},[t._v(t._s(t._f("asDollarsAndCents")(t.$store.state.cart.surcharge)))]),t._v(" shipping)")])]),e("section",{directives:[{name:"show",rawName:"v-show",value:""!==t.checkoutStatus,expression:"checkoutStatus !== ''"}],staticClass:"alert-info mt-1"},["ERROR"===t.checkoutStatus?e("div",[t._v(" Error: Please fix the problems above and try again. ")]):"PENDING"===t.checkoutStatus?e("div",[t._v("Processing...")]):"OK"===t.checkoutStatus?e("div",[t._v("Order placed...")]):e("div",[t._v(" An unexpected error occurred, please try again. ")])])]):e("div",{staticClass:"alert-info"},[t._v(" You need to add an item to your Cart to checkout ")])]),e("div",{staticClass:"btn-group"},[t.$store.state.cart.numberOfItems<=0?e("router-link",{staticClass:"btn btn-secondary",attrs:{to:"/category/"+t.$store.state.selectedCategoryName}},[t._v("Continue Shopping")]):t._e()],1)])},pt=[],vt=s(379),ht=s(682),_t=s.n(ht),ft=s(8355);const gt=t=>(0,ft.ZP)(t,"en-US"),Ct=t=>_t()(t);var bt={name:"CheckoutView",data(){return{name:"",address:"",phone:"",email:"",ccNumber:"",ccExpiryMonth:(new Date).getMonth()+1,ccExpiryYear:(new Date).getFullYear(),checkoutStatus:""}},validations:{name:{required:vt.C1,minLength:(0,vt.Ei)(4),maxLength:(0,vt.BS)(45)},address:{required:vt.C1,minLength:(0,vt.Ei)(4),maxLength:(0,vt.BS)(45)},phone:{required:vt.C1,phone:gt},email:{required:vt.C1,email:vt.Do},ccNumber:{required:vt.C1,creditCard:Ct}},computed:{cart(){return this.$store.state.cart},months(){return["January","February","March","April","May","June","July","August","September","October","November","December"]},years(){return["2022","2023","2024","2025","2026","2027","2028","2029","2030","2031","2032","2033","2034","2035","2036"]}},methods:{resetOrder(){console.log("Reset order"),this.$v.$reset(),this.checkoutStatus=""},submitOrder(){console.log("Submit order"),this.$v.$touch(),this.$v.$invalid?this.checkoutStatus="ERROR":(this.checkoutStatus="PENDING",this.$store.dispatch("placeOrder",{name:this.name,address:this.address,phone:this.phone,email:this.email,ccNumber:this.ccNumber,ccExpiryMonth:this.ccExpiryMonth,ccExpiryYear:this.ccExpiryYear}).then((()=>{this.checkoutStatus="OK",this.$router.push({name:"confirmation"})})).catch((t=>{this.checkoutStatus="SERVER_ERROR",console.log("Error placing order",t)})))},yearFrom(t){return(new Date).getFullYear()+t}}},yt=bt,kt=(0,m.Z)(yt,mt,pt,!1,null,"ac132c66",null),$t=kt.exports,Et=function(){var t=this,e=t._self._c;return e("div",[e("div",{attrs:{id:"confirmationView"}},[e("section",{staticClass:"flex"},[e("dl",[e("dt",[t._v("Confirmation #: "+t._s(t.$store.state.orderDetail.order.confirmationNumber))]),e("dt",[t._v("Time: "+t._s(new Date(t.$store.state.orderDetail.order.dateCreated)))])])]),e("section",{staticClass:"flex"},[e("dl",{staticClass:"bloc"},[e("dt",[t._v("Customer Information :")]),e("dd",[t._v(" "+t._s(t.$store.state.orderDetail.customer.customerName)),e("br"),t._v(" "+t._s(t.$store.state.orderDetail.customer.address)),e("br"),t._v(" "+t._s(t.$store.state.orderDetail.customer.email)),e("br"),t._v(" "+t._s(t.$store.state.orderDetail.customer.phone)),e("br")])])]),e("Confirmation-table")],1),e("div",{staticClass:"checkout"},[e("div",{staticClass:"btn-group"},[e("router-link",{staticClass:"btn btn-secondary",attrs:{to:"/category/"+t.$store.state.selectedCategoryName}},[t._v("Continue Shopping")])],1)])])},xt=[],Ot=function(){var t=this,e=t._self._c;return e("table",[t._m(0),e("tbody",t._l(this.$store.state.orderDetail.lineItems,(function(s,r){return e("tr",{key:s.productId},[e("td",[t._v(" "+t._s(t.$store.state.orderDetail.books[r].title)+" ")]),e("td",[t._v(t._s(s.quantity))]),e("td",[t._v(t._s(t._f("asDollarsAndCents")(t.$store.state.orderDetail.books[r].price*s.quantity)))])])})),0),e("tfoot",[e("tr",[e("td",{attrs:{colspan:"2"}},[t._v("Delivery Surcharge")]),e("td",[t._v(t._s(t._f("asDollarsAndCents")(t.$store.state.cart.surcharge)))])]),e("tr",[e("td",{staticClass:"total",attrs:{colspan:"2"}},[t._v("Total")]),e("td",{staticClass:"fw-bold"},[t._v(t._s(t._f("asDollarsAndCents")(t.$store.state.orderDetail.order.amount)))])])])])},St=[function(){var t=this,e=t._self._c;return e("thead",[e("tr",[e("th",[t._v("Product")]),e("th",[t._v("Quantity")]),e("th",[t._v("Price")])])])}],Tt={name:"ConfirmationTable"},At=Tt,wt=(0,m.Z)(At,Ot,St,!1,null,"240dd6c6",null),Nt=wt.exports,Rt={name:"ConfirmationView",components:{ConfirmationTable:Nt}},Dt=Rt,It=(0,m.Z)(Dt,Et,xt,!1,null,"0b01ce82",null),jt=It.exports,qt=function(){var t=this,e=t._self._c;return e("div",[e("h2",{staticClass:"mt-3 text-center"},[t._v("We're sorry that page cannot be found on this site.")]),e("div",{staticClass:"checkout"},[e("div",{staticClass:"btn-group"},[e("router-link",{staticClass:"btn btn-secondary",attrs:{to:"/"}},[t._v("Continue")])],1)])])},Lt=[],Pt={name:"NotFound"},Yt=Pt,Bt=(0,m.Z)(Yt,qt,Lt,!1,null,"42382faa",null),Zt=Bt.exports;r.ZP.use(A.Z);const Gt=["Crime","Adventure","Comedy","Suspense"],Ft=[{path:"/",name:"home",component:Z,alias:["/home","/index.*"],meta:{set:Gt[Math.floor(Math.random()*Gt.length)]}},{path:"/category",name:"category",component:X,meta:{set:"Crime"}},{path:"/category/:name",name:"book_by_category_name",component:X},{path:"/cart/",name:"cart",component:dt},{path:"/checkout/",name:"checkout",component:$t},{path:"/confirmation/",name:"confirmation",component:jt},{path:"*",component:Zt}],Kt=new A.Z({mode:"history",base:"/JoyceBookstoreTransact/",routes:Ft});var Jt=Kt,Mt=s(629);const zt="https:"===location.protocol?":8443":":8080",Vt=location.protocol+"//"+location.hostname+zt+"/JoyceBookstoreTransact/api",Qt=()=>{const t=Vt+"/categories";return console.log("GET from "+t),fetch(t).then((t=>{if(t.ok)return t.json();throw new Error("Network response was not ok.")})).catch((t=>{console.log("Error fetching category data",t)}))},Ut=t=>{const e=Vt+"/categories/name/"+t;return console.log("GET from "+e),fetch(e).then((t=>{if(t.ok)return t.json();throw new Error("Network response was not ok.")})).catch((t=>{console.log("Error fetching category data",t)}))},Ht=t=>{const e=Vt+"/categories/name/"+t+"/books";return console.log("GET from "+e),fetch(e).then((t=>{if(t.ok)return t.json();throw new Error("Network response was not ok.")})).catch((t=>{console.log("Error fetching category data",t)}))};function Wt(t){return console.log(`POSTing to ${Vt}/orders`),fetch(`${Vt}/orders`,{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}}).then((t=>{if(t.ok)return t.json();throw new Error("Network response was not ok.")}))}class Xt{constructor(t){this._book=t,this._quantity=1}get book(){return this._book}get quantity(){return this._quantity}set quantity(t){this._quantity=t}get bookId(){return this._book.bookId}get price(){return this._book.price}get total(){return this._quantity*this.price}increment(){this._quantity++}decrement(){this._quantity>0&&this._quantity--}toJSON(){return{book:this._book,quantity:this._quantity}}}class te{constructor(){this._items=[]}get numberOfItems(){return this._items.reduce(((t,e)=>t+e.quantity),0)}get empty(){return this._items.length<=0}get subtotal(){return this._items.reduce(((t,e)=>t+e.book.price*e.quantity),0)}get total(){return this.subtotal+this.surcharge}get surcharge(){return 500}get items(){return te.frozenArray(this._items)}clear(){this._items=[]}addItem(t,e=1){let s=this._items.find((e=>e.book.bookId==t.bookId));if(s)s.quantity++;else{let s=new Xt(t);s.quantity=e,this._items.push(s)}}update(t,e){if(e<0||e>99)return;let s=this._items.findIndex((e=>e.book.bookId==t.bookId));-1!==s&&(0!==e?this._items[s].quantity=e:this._items.splice(s,1))}updateItem(t,e){if(e<0||e>99)return;let s=this._items.find((e=>e.book.bookId==t.bookId)),r=this._items.findIndex((e=>e.book.bookId==t.bookId));s&&(0!==e?s.quantity=e:this._items.splice(r,1))}clear(){this._items.splice(0,this._items.length)}toJSON(){return{items:te.frozenArray(this._items)}}static frozenArray(t){let e=[];return Object.keys(t).forEach((s=>{e.push(t[s])})),Object.freeze(e)}}r.ZP.use(Mt.ZP);var ee=new Mt.ZP.Store({state:{categories:[],selectedCategoryName:"",selectedCategoryBooks:[],cart:new te,orderDetail:null,CART_STORAGE_KEY:"cart",ORDER_DETAIL_STORAGE_KEY:"orderDetail"},mutations:{SET_CATEGORIES(t,e){t.categories=e},SELECT_CATEGORY(t,e){t.selectedCategoryName=e},SET_SELECTED_CATEGORY_BOOKS(t,e){t.selectedCategoryBooks=e},ADD_TO_CART(t,e){t.cart.addItem(e,1),localStorage.setItem(t.CART_STORAGE_KEY,JSON.stringify(this.state.cart))},UPDATE_BOOK_IN_CART(t,e){t.cart.updateItem(e.book,e.quantity),localStorage.setItem(t.CART_STORAGE_KEY,JSON.stringify(this.state.cart))},SET_CART(t,e){localStorage.setItem(t.CART_STORAGE_KEY,JSON.stringify(e));let s=new te;e.items.forEach((t=>{s.addItem(t.book,t.quantity)})),t.cart=s},CLEAR_CART(t){localStorage.removeItem(t.CART_STORAGE_KEY),t.cart.clear()},SET_ORDER_DETAIL(t,e){t.orderDetail=e,sessionStorage.setItem(t.ORDER_DETAIL_STORAGE_KEY,JSON.stringify(e))},CLEAR_ORDER_DETAIL(t){sessionStorage.removeItem(t.ORDER_DETAIL_STORAGE_KEY),t.orderDetail=null}},actions:{fetchCategories(t){Qt().then((e=>{t.commit("SET_CATEGORIES",e)})).catch((t=>{console.log("Error: "+t)}))},selectCategory(t,e){Ut(e).then((e=>{t.commit("SELECT_CATEGORY",e.name)})).catch((t=>{console.log("Error: "+t)}))},fetchSelectedCategoryBooks(t){""===t.state.selectedCategoryName?Ht("Crime").then((e=>{t.commit("SET_SELECTED_CATEGORY_BOOKS",e)})).catch((t=>{console.log("Error: "+t)})):Ht(t.state.selectedCategoryName).then((e=>{t.commit("SET_SELECTED_CATEGORY_BOOKS",e)})).catch((t=>{console.log("Error: "+t)}))},addToCart(t,e){t.commit("ADD_TO_CART",e)},updateQuantity(t,e){console.log(e),t.commit("UPDATE_BOOK_IN_CART",e)},placeOrder({commit:t,state:e},s){return t("CLEAR_ORDER_DETAIL"),Wt({cart:e.cart,customerForm:s}).then((e=>{t("CLEAR_CART"),t("SET_ORDER_DETAIL",e)}))}}}),se=s(8620),re=s(3968),ae=s.n(re);r.ZP.config.productionTip=!1;const oe=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2});r.ZP.filter("asDollarsAndCents",(function(t){return oe.format(t/100)})),r.ZP.use(se.ZP),r.ZP.use(ae()),new r.ZP({router:Jt,store:ee,render:function(t){return t(T)}}).$mount("#app")},6801:function(t,e,s){"use strict";t.exports=s.p+"img/an-occurrence-at-owl-creek-bridge-one-of-the-missing.59d37644.jpeg"},4422:function(t,e,s){"use strict";t.exports=s.p+"img/country-of-the-blind.8125d424.jpeg"},4013:function(t,e,s){"use strict";t.exports=s.p+"img/death-on-the-air.f8b1fd3e.jpeg"},470:function(t,e,s){"use strict";t.exports=s.p+"img/from-a-view-to-a-kill.727b12cb.jpeg"},2026:function(t,e,s){"use strict";t.exports=s.p+"img/goodbye-to-all-cats.2e5b1209.jpeg"},7296:function(t,e,s){"use strict";t.exports=s.p+"img/here-we-are-a-telephone-call.ef7153fa.jpeg"},1077:function(t,e,s){"use strict";t.exports=s.p+"img/murder.fd663177.jpeg"},9217:function(t,e,s){"use strict";t.exports=s.p+"img/on-guard,-bella-fleace-gave-a-party.7d6d0592.jpeg"},9916:function(t,e,s){"use strict";t.exports=s.p+"img/sredni-vashtar,-the-secret-sin-septimus-brope.d075f9fb.jpeg"},7523:function(t,e,s){"use strict";t.exports=s.p+"img/the-five-orange-pips.e3779a22.jpeg"},7596:function(t,e,s){"use strict";t.exports=s.p+"img/the-hostage.a848c038.jpeg"},7723:function(t,e,s){"use strict";t.exports=s.p+"img/the-pit-and-the-pendulum.6b37364e.jpeg"},4754:function(t,e,s){"use strict";t.exports=s.p+"img/the-signalman.83df5f10.jpeg"},4598:function(t,e,s){"use strict";t.exports=s.p+"img/the-speckled-band.2519a8ba.jpeg"},8904:function(t,e,s){"use strict";t.exports=s.p+"img/the-traveller's-story-of-a-terribly-strange-bed.9018d276.jpeg"},1677:function(t,e,s){"use strict";t.exports=s.p+"img/the-vampyre.8bebe93d.jpeg"}},e={};function s(r){var a=e[r];if(void 0!==a)return a.exports;var o=e[r]={exports:{}};return t[r].call(o.exports,o,o.exports,s),o.exports}s.m=t,function(){var t=[];s.O=function(e,r,a,o){if(!r){var n=1/0;for(u=0;u<t.length;u++){r=t[u][0],a=t[u][1],o=t[u][2];for(var i=!0,c=0;c<r.length;c++)(!1&o||n>=o)&&Object.keys(s.O).every((function(t){return s.O[t](r[c])}))?r.splice(c--,1):(i=!1,o<n&&(n=o));if(i){t.splice(u--,1);var l=a();void 0!==l&&(e=l)}}return e}o=o||0;for(var u=t.length;u>0&&t[u-1][2]>o;u--)t[u]=t[u-1];t[u]=[r,a,o]}}(),function(){s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,{a:e}),e}}(),function(){s.d=function(t,e){for(var r in e)s.o(e,r)&&!s.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){s.p="/JoyceBookstoreTransact/"}(),function(){var t={143:0};s.O.j=function(e){return 0===t[e]};var e=function(e,r){var a,o,n=r[0],i=r[1],c=r[2],l=0;if(n.some((function(e){return 0!==t[e]}))){for(a in i)s.o(i,a)&&(s.m[a]=i[a]);if(c)var u=c(s)}for(e&&e(r);l<n.length;l++)o=n[l],s.o(t,o)&&t[o]&&t[o][0](),t[o]=0;return s.O(u)},r=self["webpackChunkclient"]=self["webpackChunkclient"]||[];r.forEach(e.bind(null,0)),r.push=e.bind(null,r.push.bind(r))}();var r=s.O(void 0,[998],(function(){return s(4266)}));r=s.O(r)})();
//# sourceMappingURL=app.c559cf39.js.map